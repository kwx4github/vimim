#排序多个词库文件成为一个词库

{{{
使用五笔的同学可能会经常遇到字/词结构复杂比较难打的问题, 此时如果绞尽脑汁都想不出来就只能上网查找. 但这样就浪费了时间和精力, 而且常常仔细想可以想出来, 但不想花时间在思考这些汉字的复杂结构上, 想打字效率第一的话, 最快就是临时使用拼音来打了. 在对某些只会读不会写的字也同样有效. 很多五笔输入法都提供临时切换到拼音输入, 如 fcitx, 以 z 开头就可以用拼音选字 (z在五笔没有用到).
现在的 VimIM 还没有加入这一功能, 但可以通过十分简单的办法达到同样效果, 何乐而不为呢? ;)
}}}


== 操作过程 ==

以五笔和拼音词库为例.
  # 下载 vimim.wubi.txt 和 wimim.pinyin.txt, 下载页面: http://code.google.com/p/vimim/downloads/list
  # cp vimim.wubi.txt new.txt
  # cat vimim.pinyin.txt >> new.txt
  # vim new.txt
  # :sort ur /\(\a\|\d\)\+ /
  # ZZ (或 :wq)
  # mv -i new.txt ~/.vim/plugin/vimim.wubi.txt (注意先备份你自己的词库!)
  # vim ~/.vimrc
  # 加入设置: let g:vimim_wubi_non_stop=0
  # ZZ

== 说明 ==
  * 注意保证在 ~/.vim/plugin/ 下只有一个词库文件
  * 词库文件的顺序很重要! 如果你想提示的候选字中五笔出现在拼音前面, 就要在执行 sort 命令前先读入五笔词库, 再读入拼音词库. Windows 用户可以打开 gVim, 执行以下命令以避免使用记事本编辑不小的词库文件 ;)
  :read vimim.wubi.txt
  G (到最后一行)
  :read vimim.pinyin.txt
然后再执行 sort 语句.
  * 在 Vim 中执行的 :sort ur /\(\a\|\d\)\+ / 命令进行合理的排序, 即仅根据第一个空格前的字母或数字进行排序, 直接使用 :sort 会将候选汉字作为排序依据, 就会出现有的词五笔候选字在前面, 有的词拼音候选字在前面的情况
  * 加入的 Vimim 设置 "let g:vimim_wubi_non_stop=0" 是为了在中文输入模式下 (默认按 Ctrl+6 进入) 可以输入拼音词组, 如输入 "zenmeban" 时出现 "怎么办" 候选字. 如果不关闭这个 non_stop, 在输入到 "zenm" 时四个键已输满, 就不会再继续匹配了. 当然, 关闭这个选项也有缺点, 即每个字/词都要用空格进行上屏, 这要看个人喜好了. 我是挺喜欢这样的, 不用去想有没有输完四次键, 总之想上字就空格. 如果你喜欢 non_stop 模式也可以不关闭, 只是只能输入简单在拼音了(编码在四个以内).
